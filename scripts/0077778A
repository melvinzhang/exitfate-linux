#==============================================================================
# ** Window_Base_Short
#------------------------------------------------------------------------------
#  Extension of Window_Base which uses a sprite to display text
#==============================================================================

class Window_Base_Short < Window_Base
  #--------------------------------------------------------------------------
  # * Object Initialization
  #     x      : window x-coordinate
  #     y      : window y-coordinate
  #     width  : window width
  #     height : window height
  #--------------------------------------------------------------------------
  def initialize(x, y, width, height)
    super(x, y, width, height)
    @sprite = Sprite.new
    @sprite.x = x
    @sprite.y = y
    @sprite.z = self.z + 1
  end
  #--------------------------------------------------------------------------
  # * Set contents to standard bitmap
  #--------------------------------------------------------------------------
  def set_standard_bitmap
    if self.contents != nil
      self.contents.dispose
    end
    self.contents = Bitmap.new(width, height)
    self.contents.font.color = normal_color
  end  
  #--------------------------------------------------------------------------
  # * Dispose
  #--------------------------------------------------------------------------
  def dispose
    if @sprite != nil
      if @sprite.bitmap != nil
        @sprite.bitmap.dispose
      end
      @sprite.dispose
    end
    super
  end
  #--------------------------------------------------------------------------
  # * X
  #--------------------------------------------------------------------------
  def x=(x)
    @sprite.x = x if @sprite != nil
    super(x)
  end
  #--------------------------------------------------------------------------
  # * Y
  #--------------------------------------------------------------------------
  def y=(y)
    @sprite.y = y if @sprite != nil
    super(y)
  end
  #--------------------------------------------------------------------------
  # * z
  #--------------------------------------------------------------------------
  def z=(z)
    @sprite.z = z + 1 if @sprite != nil
    super(z)
  end
  #--------------------------------------------------------------------------
  # * Contents
  #--------------------------------------------------------------------------
  def contents=(con)
    @sprite.bitmap = con    
  end
  #--------------------------------------------------------------------------
  # * Contents
  #--------------------------------------------------------------------------
  def contents
    return @sprite.bitmap
  end
  #--------------------------------------------------------------------------
  # * Visible
  #--------------------------------------------------------------------------
  def visible=(vis)
    @sprite.visible = vis
    super(vis)
  end
  #--------------------------------------------------------------------------
  # * opacity
  #--------------------------------------------------------------------------
  def opacity=(o)
    @sprite.opacity = o
    super(o)
  end
  #--------------------------------------------------------------------------
  # * contents_opacity
  #--------------------------------------------------------------------------
  def contents_opacity=(o)
    @sprite.opacity = o
    super(o)
  end
end
